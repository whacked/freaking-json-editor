var jsNull = exports.jsNull = eval('null');
(function () {
    var keyClassø1 = 'key';
    var valClassø1 = 'value';
    var lsClassø1 = 'ls';
    var kvClassø1 = 'kv';
    var nullClassø1 = 'null';
    void 0;
    var genEditor = function genEditor(parent, obj) {
        return function () {
            var isIsArrayø1 = Array.isArray(obj);
            var isIsNullø1 = obj === jsNull;
            var containerø1 = isIsArrayø1 ? $('<ol>', {
                'start': 0,
                'class': lsClassø1
            }) : isIsNullø1 ? $('<div>', { 'class': nullClassø1 }) : $('<div>', { 'class': kvClassø1 });
            parent.append(containerø1);
            return obj ? $.each(obj, function (k, v) {
                return function () {
                    var rowø1 = isIsArrayø1 ? $('<li>') : $('<div>', { 'class': 'item' }).append($('<input>', {
                        'type': 'text',
                        'class': keyClassø1
                    }).val(k));
                    containerø1.append(rowø1);
                    return typeof(v) === 'object' ? genEditor(rowø1, v) : rowø1.append($('<input>', {
                        'type': 'text',
                        'class': valClassø1 + ' ' + typeof(v)
                    }).val(v));
                }.call(this);
            }) : void 0;
        }.call(this);
    };
    var getChildDistance = function getChildDistance($parent, cls) {
        return $parent.hasClass(cls) ? 0 : function () {
            var distLsø1 = [];
            $parent.find('.' + cls).each(function (i, el) {
                return distLsø1.push($(el).parentsUntil($parent)['length']);
            });
            return Math.min.apply(void 0, distLsø1);
        }.call(this);
    };
    var formToJson = function formToJson($domel, rtn) {
        return $domel.prop('tagName') === 'INPUT' ? $domel.hasClass('number') ? parseInt($domel.val()) : $domel.val() : function () {
            var rtnø2 = rtn || [
                [
                    getChildDistance($domel, lsClassø1),
                    []
                ],
                [
                    getChildDistance($domel, kvClassø1),
                    {}
                ],
                [
                    getChildDistance($domel, nullClassø1),
                    jsNull
                ]
            ].sort()[0][1];
            var isPushingToArrayø1 = Array.isArray(rtnø2);
            (function loop() {
                var recur = loop;
                var elArrø1 = $domel.children();
                var keyø1 = void 0;
                do {
                    recur = 0 < elArrø1['length'] ? function () {
                        var $elø1 = $(elArrø1[0]);
                        var elValø1 = $elø1.val();
                        var elTagø1 = $elø1.prop('tagName');
                        return elTagø1 === 'INPUT' ? isPushingToArrayø1 ? rtnø2.push(formToJson($elø1)) : function () {
                            var nextø1 = elArrø1[1];
                            return rtnø2[elValø1] = formToJson($(nextø1), void 0);
                        }.call(this) : function () {
                            isPushingToArrayø1 && $elø1.hasClass(kvClassø1) ? rtnø2.push(formToJson($elø1, void 0)) : formToJson($elø1, rtnø2);
                            return loop[0] = elArrø1.slice(1), loop[1] = keyø1, loop;
                        }.call(this);
                    }.call(this) : void 0;
                } while (elArrø1 = loop[0], keyø1 = loop[1], recur === loop);
                return recur;
            }.call(this));
            return rtnø2;
        }.call(this);
    };
    return function ($) {
        return $.fn['json_editor'] = function (opt) {
            return function () {
                var frmø1 = $('<form>');
                var isIsCustomTextø1 = opt && opt['text'];
                var taø1 = isIsCustomTextø1 ? $(opt['text']) : $('<textarea>');
                isIsCustomTextø1 ? function () {
                    return $(this).append(frmø1);
                }.call(this) : function () {
                    var mainRowø1 = $('<div>', { 'class': 'viewer-row' });
                    var mainViewø1 = $('<div>', { 'class': 'viewer-main' }).append(mainRowø1);
                    taø1.val(JSON.stringify([
                        'one',
                        {
                            '1': 'some number',
                            'a': 1,
                            'b': {
                                'foo': 'bar',
                                'baz': 'quux'
                            },
                            'x': [
                                1,
                                2,
                                3,
                                4
                            ],
                            'None': jsNull,
                            'emptylist': [],
                            'emptyobj': {},
                            'y': {
                                'nested': 'map',
                                'within': [
                                    'another array',
                                    'cool',
                                    { 'yet': 'more' },
                                    1,
                                    {
                                        'snowman': [
                                            'five',
                                            5,
                                            'f5'
                                        ]
                                    },
                                    { 'ice': { 'cream': 'cone' } }
                                ]
                            }
                        },
                        'tow'
                    ], void 0, 4));
                    mainRowø1.append($('<div>', { 'class': 'viewer-cell' }).append(taø1)).append($('<div>', { 'class': 'viewer-cell' }).append(frmø1));
                    return this.empty().append(mainViewø1);
                }.call(this);
                var respitJson = function respitJson() {
                    return function () {
                        var finalø1 = formToJson(frmø1);
                        return taø1.val(JSON.stringify(finalø1, void 0, 4));
                    }.call(this);
                };
                taø1.change(function (_) {
                    return function () {
                        var textø1 = taø1.val();
                        var jsonø1 = JSON.parse(textø1);
                        genEditor(frmø1.empty(), jsonø1);
                        return frmø1.find('input').change(respitJson);
                    }.call(this);
                });
                taø1.change();
                return respitJson();
            }.call(this);
        };
    }(jQuery);
}.call(this));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFub255bW91cy53aXNwIl0sIm5hbWVzIjpbImpzTnVsbCIsImV4cG9ydHMiLCJldmFsIiwia2V5Q2xhc3PDuDEiLCJ2YWxDbGFzc8O4MSIsImxzQ2xhc3PDuDEiLCJrdkNsYXNzw7gxIiwibnVsbENsYXNzw7gxIiwiZ2VuRWRpdG9yIiwicGFyZW50Iiwib2JqIiwiaXNJc0FycmF5w7gxIiwiQXJyYXkiLCJpc0FycmF5IiwiaXNJc051bGzDuDEiLCJjb250YWluZXLDuDEiLCIkIiwiYXBwZW5kIiwiZWFjaCIsImsiLCJ2Iiwicm93w7gxIiwidmFsIiwidHlwZW9mIiwiZ2V0Q2hpbGREaXN0YW5jZSIsIiRwYXJlbnQiLCJjbHMiLCJoYXNDbGFzcyIsImRpc3RMc8O4MSIsImZpbmQiLCJpIiwiZWwiLCJwdXNoIiwicGFyZW50c1VudGlsIiwiTWF0aCIsIm1pbi5hcHBseSIsImZvcm1Ub0pzb24iLCIkZG9tZWwiLCJydG4iLCJwcm9wIiwicGFyc2VJbnQiLCJydG7DuDIiLCJzb3J0IiwiaXNQdXNoaW5nVG9BcnJhecO4MSIsImVsQXJyw7gxIiwiY2hpbGRyZW4iLCJrZXnDuDEiLCIkZWzDuDEiLCJlbFZhbMO4MSIsImVsVGFnw7gxIiwibmV4dMO4MSIsInNsaWNlIiwiZm4iLCJvcHQiLCJmcm3DuDEiLCJpc0lzQ3VzdG9tVGV4dMO4MSIsInRhw7gxIiwidGhpcyIsIm1haW5Sb3fDuDEiLCJtYWluVmlld8O4MSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlbXB0eSIsInJlc3BpdEpzb24iLCJmaW5hbMO4MSIsImNoYW5nZSIsIl8iLCJ0ZXh0w7gxIiwianNvbsO4MSIsInBhcnNlIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFBQSxJQUFLQSxNQUFBLEdBQUFDLE9BQUEsQ0FBQUQsTUFBQSxHQUFTRSxJQUFELENBQU0sTUFBTixDQUFiO0FBQ0EsQyxZQUNNO0FBQUEsUUFBQUMsVSxHQUFVLEtBQVY7QUFBQSxJQUNBLElBQUFDLFUsR0FBVSxPQUFWLENBREE7QUFBQSxJ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QkFHSixPQUFJZCxLQUNDLENBQUN6QixJLENBQUssTyxDQUNOLENBQUNvQyxNQUZOLENBRWFGLFVBRmIsRUFISTtBQUFBLHFCLEtBQU4sQyxJQUFBO0FBQUEsaUJBRlgsRUF6REk7QUFBQSxnQkFpRUtQLElBQVIsQ0FBQ1MsTUFBRixHQWpFSTtBQUFBLGdCQW1FSixPQUFDRixVQUFELEdBbkVJO0FBQUEsYSxLQUROLEMsSUFBQTtBQUFBLFNBRlI7QUFBQSxLQUZILENBNkVDTyxNQTdFRCxFQWpISTtBQUFBLEMsS0FETixDLElBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIoZGVmIGpzLW51bGwgKGV2YWwgXCJudWxsXCIpKVxuKGxldCBbXG4gICAgICBrZXktY2xhc3MgXCJrZXlcIlxuICAgICAgdmFsLWNsYXNzIFwidmFsdWVcIlxuICAgICAgXG4gICAgICBscy1jbGFzcyBcImxzXCJcbiAgICAgIGt2LWNsYXNzIFwia3ZcIlxuXG4gICAgICBudWxsLWNsYXNzIFwibnVsbFwiXG4gICAgICBdXG4gIChkZWZtYWNybyAtPlxuICAgIFsmIG9wZXJhdGlvbnNdXG4gICAgKHJlZHVjZVxuICAgICAoZm4gW2Zvcm0gb3BlcmF0aW9uXVxuICAgICAgIChjb25zIChmaXJzdCBvcGVyYXRpb24pXG4gICAgICAgICAgICAgKGNvbnMgZm9ybSAocmVzdCBvcGVyYXRpb24pKSkpXG4gICAgIChmaXJzdCBvcGVyYXRpb25zKVxuICAgICAocmVzdCBvcGVyYXRpb25zKSkpXG4gIFxuICAoZGVmbiBnZW4tZWRpdG9yIFtwYXJlbnQgb2JqXVxuICAgIChsZXQgW2lzLWFycmF5PyAoQXJyYXkuaXNBcnJheSBvYmopXG4gICAgICAgICAgaXMtbnVsbD8gKGlkZW50aWNhbD8gb2JqIGpzLW51bGwpXG4gICAgICAgICAgY29udGFpbmVyIChpZiBpcy1hcnJheT9cbiAgICAgICAgICAgICAgICAgICAgICAoJCBcIjxvbD5cIiB7OnN0YXJ0IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpjbGFzcyBscy1jbGFzc30pXG4gICAgICAgICAgICAgICAgICAgICAgKGlmIGlzLW51bGw/XG4gICAgICAgICAgICAgICAgICAgICAgICAoJCBcIjxkaXY+XCIgezpjbGFzcyBudWxsLWNsYXNzfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICgkIFwiPGRpdj5cIiB7OmNsYXNzIGt2LWNsYXNzfSkpKV1cbiAgICAgICguYXBwZW5kIHBhcmVudCBjb250YWluZXIpXG4gICAgICAoaWYgb2JqXG4gICAgICAgICgkLmVhY2hcbiAgICAgICAgIG9ialxuICAgICAgICAgKGZuIFtrIHZdXG4gICAgICAgICAgIChsZXQgW3JvdyAoaWYgaXMtYXJyYXk/XG4gICAgICAgICAgICAgICAgICAgICAgICgtPiAoJCBcIjxsaT5cIikpXG4gICAgICAgICAgICAgICAgICAgICAgICgtPiAoJCBcIjxkaXY+XCIgezpjbGFzcyBcIml0ZW1cIn0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAoLmFwcGVuZCAoLT4gKCQgXCI8aW5wdXQ+XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OnR5cGUgXCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmNsYXNzIGtleS1jbGFzc30pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKC52YWwgaykpKSkpXVxuICAgICAgICAgICAgICgtPiBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgKC5hcHBlbmQgcm93KSlcbiAgICAgICAgICAgICAoaWYgKGlkZW50aWNhbD8gKHR5cGVvZiB2KSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgKGdlbi1lZGl0b3Igcm93IHYpXG4gICAgICAgICAgICAgICAoLmFwcGVuZCByb3cgKC0+ICgkIFwiPGlucHV0PlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6dHlwZSBcInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmNsYXNzICgrIHZhbC1jbGFzcyBcIiBcIiAodHlwZW9mIHYpKX0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgudmFsIHYpKSkpKSkpKSkpXG5cbiAgOzsgZG9uJ3Qga25vdyB3aGV0aGVyIHRoZSBmdWxsIHRyYXZlcnNhbCBpcyBuZWNlc3NhcnlcbiAgOzsgYnV0ICQuY2xvc2VzdCgpIHRyYXZlcnNlcyB1cCwgYW5kIHRoZXJlIGRvZXNuJ3Qgc2VlbVxuICA7OyB0byBiZSBvbmUgdGhhdCBkb2VzIHRoZSBzYW1lIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb25cbiAgKGRlZm4gZ2V0LWNoaWxkLWRpc3RhbmNlIFskcGFyZW50IGNsc11cbiAgICAoaWYgKC5oYXNDbGFzcyAkcGFyZW50IGNscylcbiAgICAgIDBcbiAgICAgIChsZXQgW2Rpc3QtbHMgW11dXG4gICAgICAgICguZWFjaFxuICAgICAgICAgKC5maW5kICRwYXJlbnQgKCsgXCIuXCIgY2xzKSlcbiAgICAgICAgIChmbiBbaSBlbF1cbiAgICAgICAgICAgKC5wdXNoIGRpc3QtbHMgKGFnZXQgKC5wYXJlbnRzVW50aWwgKCQgZWwpICRwYXJlbnQpIFwibGVuZ3RoXCIpKSkpXG4gICAgICAgIChNYXRoLm1pbi5hcHBseSBuaWwgZGlzdC1scykpKSlcblxuICAoZGVmbiBmb3JtLXRvLWpzb24gWyRkb21lbCBydG5dXG4gICAgKGlmIChpZGVudGljYWw/ICgucHJvcCAkZG9tZWwgXCJ0YWdOYW1lXCIpIFwiSU5QVVRcIilcbiAgICAgIChpZiAoLmhhc0NsYXNzICRkb21lbCBcIm51bWJlclwiKVxuICAgICAgICAocGFyc2VJbnQgKC52YWwgJGRvbWVsKSlcbiAgICAgICAgKC52YWwgJGRvbWVsKSlcbiAgICAgIChsZXQgW1xuICAgICAgICAgICAgcnRuIChvciBydG5cbiAgICAgICAgICAgICAgICAgICAgOzsgcG9vciBtYW4gY29uZFxuICAgICAgICAgICAgICAgICAgICAoLT4gW1soZ2V0LWNoaWxkLWRpc3RhbmNlICRkb21lbCBscy1jbGFzcykgW11dXG4gICAgICAgICAgICAgICAgICAgICAgICAgWyhnZXQtY2hpbGQtZGlzdGFuY2UgJGRvbWVsIGt2LWNsYXNzKSB7fV1cbiAgICAgICAgICAgICAgICAgICAgICAgICBbKGdldC1jaGlsZC1kaXN0YW5jZSAkZG9tZWwgbnVsbC1jbGFzcykganMtbnVsbF1dXG4gICAgICAgICAgICAgICAgICAgICAgICAoLnNvcnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAoYWdldCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgKGFnZXQgMSkpKVxuICAgICAgICAgICAgcHVzaGluZy10by1hcnJheT8gKEFycmF5LmlzQXJyYXkgcnRuKVxuICAgICAgICAgICAgXVxuICAgICAgICA7OyByZWFzb24gd2UgdXNlIGxvb3AgaGVyZSwgaXMgYmVjYXVzZSB3aGVuIHdlIGhpdCBhbiBpbnB1dCB0aGF0IGlzIGEga2V5LFxuICAgICAgICA7OyB3ZSB3YW50IHRvIFwic3RvcmVcIiB0aGUga2V5IGFuZCBtb3ZlIG9uLCBidXQgZG8gaXQgZnVuY3Rpb25hbGx5XG4gICAgICAgIChsb29wIFtlbC1hcnIgKC5jaGlsZHJlbiAkZG9tZWwpXG4gICAgICAgICAgICAgICBrZXkgbmlsXVxuICAgICAgICAgIChpZiAoPCAwIChhZ2V0IGVsLWFyciBcImxlbmd0aFwiKSlcbiAgICAgICAgICAgIChsZXQgWyRlbCAoJCAoYWdldCBlbC1hcnIgMCkpXG4gICAgICAgICAgICAgICAgICBlbC12YWwgKC52YWwgJGVsKVxuICAgICAgICAgICAgICAgICAgZWwtdGFnICgucHJvcCAkZWwgXCJ0YWdOYW1lXCIpXVxuXG4gICAgICAgICAgICAgIChpZiAoaWRlbnRpY2FsPyBlbC10YWcgXCJJTlBVVFwiKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDs7IFRSVUVcbiAgICAgICAgICAgICAgICAoaWYgcHVzaGluZy10by1hcnJheT9cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgKC5wdXNoIHJ0biAoZm9ybS10by1qc29uICRlbCkpXG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIDs7IHRoZSBmaXJzdCBpbnB1dCB0byBiZSBoaXQgZHVyaW5nIHRoZSBsb29wLFxuICAgICAgICAgICAgICAgICAgOzsgZm9yIGEgbm9uLWFycmF5LCBtdXN0IGJlIGEga2V5LiB3ZSB0aGVuXG4gICAgICAgICAgICAgICAgICA7OyBleHBlY3QgdGhlIHJlbWFpbmRlciB0byBiZSBleGFjdGx5IGxlbmd0aCAxXG4gICAgICAgICAgICAgICAgICAobGV0IFtuZXh0IChhZ2V0IGVsLWFyciAxKV1cbiAgICAgICAgICAgICAgICAgICAgKHNldCEgKGFnZXQgcnRuIGVsLXZhbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGZvcm0tdG8tanNvbiAoJCBuZXh0KSBuaWwpKSkpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgOzsgRUxTRVxuICAgICAgICAgICAgICAgIDs7IG5vdCBpbnB1dCwgdHJhdmVyc2UgZGVlcGVyXG4gICAgICAgICAgICAgICAgKGxldCBbXVxuICAgICAgICAgICAgICAgICAgKGlmIChhbmQgcHVzaGluZy10by1hcnJheT9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICguaGFzQ2xhc3MgJGVsIGt2LWNsYXNzKSlcbiAgICAgICAgICAgICAgICAgICAgOzsgVFJVRVxuICAgICAgICAgICAgICAgICAgICA7OyBuZXh0IGlzIGEgbWVtYmVyIG9mIHRoZSBsaXN0LCBhbmQgdGhlIG1lbWJlciBpcyBhbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgKC5wdXNoIHJ0biAoZm9ybS10by1qc29uICRlbCBuaWwpKVxuICAgICAgICAgICAgICAgICAgICA7OyBuZXh0IGlzIGFuIG9iamVjdCBhdCB0aGUgc2FtZSBsZXZlbFxuICAgICAgICAgICAgICAgICAgICA7OyBFTFNFXG4gICAgICAgICAgICAgICAgICAgIChmb3JtLXRvLWpzb24gJGVsIHJ0bikpXG4gICAgICAgICAgICAgICAgICAocmVjdXIgKC5zbGljZSBlbC1hcnIgMSkga2V5KSkpKSkpXG4gICAgICAgIHJ0bikpKVxuICBcbiAgKChmbiBbJF1cbiAgICAgXG4gICAgIChzZXQhIChhZ2V0ICQuZm4gXCJqc29uX2VkaXRvclwiKVxuICAgICAgICAgICAoZm4gW29wdF1cbiAgICAgICAgICAgICAobGV0IFtcbiAgICAgICAgICAgICAgICAgICBmcm0gKCQgXCI8Zm9ybT5cIilcbiAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICBpcy1jdXN0b20tdGV4dD8gKGFuZCBvcHQgKGFnZXQgb3B0IFwidGV4dFwiKSlcblxuICAgICAgICAgICAgICAgICAgIHRhIChpZiBpcy1jdXN0b20tdGV4dD9cbiAgICAgICAgICAgICAgICAgICAgICAgICgkIChhZ2V0IG9wdCBcInRleHRcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAoJCBcIjx0ZXh0YXJlYT5cIikpXG4gICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAoaWYgaXMtY3VzdG9tLXRleHQ/XG4gICAgICAgICAgICAgICAgIChsZXQgW11cbiAgICAgICAgICAgICAgICAgICAoLmFwcGVuZCAoJCB0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZybSkpXG4gICAgICAgICAgICAgICAgIChsZXQgW21haW4tcm93ICgtPiAoJCBcIjxkaXY+XCIgezpjbGFzcyBcInZpZXdlci1yb3dcIn0pKVxuICAgICAgICAgICAgICAgICAgICAgICBtYWluLXZpZXcgKC0+ICgkIFwiPGRpdj5cIiB7OmNsYXNzIFwidmlld2VyLW1haW5cIn0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKC5hcHBlbmQgbWFpbi1yb3cpKVxuICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgOzsgZGVtbyBkYXRhXG4gICAgICAgICAgICAgICAgICAgKC52YWwgdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAoSlNPTi5zdHJpbmdpZnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW1wib25lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOmIgezpmb28gXCJiYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6YmF6IFwicXV1eFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEgXCJzb21lIG51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ4XCIgWzEgMiAzIDRdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJOb25lXCIganMtbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDplbXB0eWxpc3QgW11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ZW1wdHlvYmoge31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInlcIiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6bmVzdGVkIFwibWFwXCJcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ3aXRoaW5cIiBbXCJhbm90aGVyIGFycmF5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNvb2xcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6eWV0IFwibW9yZVwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OnNub3dtYW4gW1wiZml2ZVwiIDUgXCJmNVwiXX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7OmljZSB7OmNyZWFtIFwiY29uZVwifX1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0b3dcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgbmlsIDQpKVxuXG4gICAgICAgICAgICAgICAgICAgKC0+IG1haW4tcm93XG4gICAgICAgICAgICAgICAgICAgICAgICguYXBwZW5kICgtPiAoJCBcIjxkaXY+XCIgezpjbGFzcyBcInZpZXdlci1jZWxsXCJ9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKC5hcHBlbmQgdGEpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgKC5hcHBlbmQgKC0+ICgkIFwiPGRpdj5cIiB7OmNsYXNzIFwidmlld2VyLWNlbGxcIn0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoLmFwcGVuZCBmcm0pKSkpXG4gICAgICAgICAgICAgICAgICAgKC0+IHRoaXNcbiAgICAgICAgICAgICAgICAgICAgICAgKC5lbXB0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgKC5hcHBlbmQgbWFpbi12aWV3KSkpKVxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAoZGVmbiByZXNwaXQtanNvbiBbXVxuICAgICAgICAgICAgICAgICAobGV0IFtmaW5hbCAoZm9ybS10by1qc29uIGZybSldXG4gICAgICAgICAgICAgICAgICAgKC52YWwgdGEgKEpTT04uc3RyaW5naWZ5IGZpbmFsIG5pbCA0KSkpKVxuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAoLmNoYW5nZSB0YVxuICAgICAgICAgICAgICAgICAgICAgICAgKGZuIFtfXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAobGV0IFt0ZXh0ICgudmFsIHRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uIChKU09OLnBhcnNlIHRleHQpXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChnZW4tZWRpdG9yICguZW1wdHkgZnJtKSBqc29uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgtPiBmcm1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKC5maW5kIFwiaW5wdXRcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKC5jaGFuZ2UgcmVzcGl0LWpzb24pKSkpKVxuICAgICAgICAgICAgICAgKC5jaGFuZ2UgdGEpXG5cbiAgICAgICAgICAgICAgIChyZXNwaXQtanNvbilcbiAgICAgICAgICAgICAgIClcblxuICAgICAgICAgICAgICkpXG4gICAgIClcbiAgIGpRdWVyeSlcbiAgKVxuIl19
