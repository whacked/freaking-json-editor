var jsNull = exports.jsNull = eval('null');
(function () {
    var keyClassø1 = 'key';
    var valClassø1 = 'value';
    var lsClassø1 = 'ls';
    var kvClassø1 = 'kv';
    var nullClassø1 = 'null';
    void 0;
    var genEditor = function genEditor(parent, obj) {
        return function () {
            var isIsArrayø1 = Array.isArray(obj);
            var isIsNullø1 = obj === jsNull;
            var containerø1 = isIsArrayø1 ? $('<ol>', {
                'start': 0,
                'class': lsClassø1
            }) : isIsNullø1 ? $('<div>', { 'class': nullClassø1 }) : $('<div>', { 'class': kvClassø1 });
            parent.append(containerø1);
            return obj ? $.each(obj, function (k, v) {
                return function () {
                    var rowø1 = isIsArrayø1 ? $('<li>') : $('<div>', { 'class': 'item' }).append($('<input>', {
                        'type': 'text',
                        'class': keyClassø1
                    }).val(k));
                    containerø1.append(rowø1);
                    return typeof(v) === 'object' ? genEditor(rowø1, v) : rowø1.append($('<input>', {
                        'type': 'text',
                        'class': valClassø1 + ' ' + typeof(v)
                    }).val(v));
                }.call(this);
            }) : void 0;
        }.call(this);
    };
    var getChildDistance = function getChildDistance($parent, cls) {
        return $parent.hasClass(cls) ? 0 : function () {
            var distLsø1 = [];
            $parent.find('.' + cls).each(function (i, el) {
                return distLsø1.push($(el).parentsUntil($parent)['length']);
            });
            return Math.min.apply(void 0, distLsø1);
        }.call(this);
    };
    var formToJson = function formToJson($domel, rtn) {
        return $domel.prop('tagName') === 'INPUT' ? $domel.hasClass('number') ? parseInt($domel.val()) : $domel.val() : $domel.hasClass(nullClassø1) ? jsNull : function () {
            var rtnø2 = rtn || [
                [
                    getChildDistance($domel, lsClassø1),
                    []
                ],
                [
                    getChildDistance($domel, kvClassø1),
                    {}
                ]
            ].sort()[0][1];
            var isPushingToArrayø1 = Array.isArray(rtnø2);
            (function loop() {
                var recur = loop;
                var elArrø1 = $domel.children();
                var keyø1 = void 0;
                do {
                    recur = 0 < elArrø1['length'] ? function () {
                        var $elø1 = $(elArrø1[0]);
                        var elValø1 = $elø1.val();
                        var elTagø1 = $elø1.prop('tagName');
                        return elTagø1 === 'INPUT' ? isPushingToArrayø1 ? rtnø2.push(formToJson($elø1)) : function () {
                            var nextø1 = elArrø1[1];
                            return rtnø2[elValø1] = formToJson($(nextø1), void 0);
                        }.call(this) : function () {
                            isPushingToArrayø1 && $elø1.hasClass(nullClassø1) ? rtnø2.push(formToJson($elø1, jsNull)) : isPushingToArrayø1 && $elø1.hasClass(kvClassø1) ? rtnø2.push(formToJson($elø1, void 0)) : formToJson($elø1, rtnø2);
                            return loop[0] = elArrø1.slice(1), loop[1] = keyø1, loop;
                        }.call(this);
                    }.call(this) : void 0;
                } while (elArrø1 = loop[0], keyø1 = loop[1], recur === loop);
                return recur;
            }.call(this));
            return rtnø2;
        }.call(this);
    };
    return function ($) {
        return $.fn['json_editor'] = function (opt) {
            return function () {
                var frmø1 = $('<form>');
                var isIsCustomTextø1 = opt && opt['text'];
                var taø1 = isIsCustomTextø1 ? $(opt['text']) : $('<textarea>');
                isIsCustomTextø1 ? function () {
                    return $(this).append(frmø1);
                }.call(this) : function () {
                    var mainRowø1 = $('<div>', { 'class': 'viewer-row' });
                    var mainViewø1 = $('<div>', { 'class': 'viewer-main' }).append(mainRowø1);
                    taø1.val(JSON.stringify([
                        'one',
                        {
                            '1': 'some number',
                            'a': 1,
                            'b': {
                                'foo': 'bar',
                                'baz': 'quux'
                            },
                            'x': [
                                1,
                                2,
                                3,
                                4
                            ],
                            'None': jsNull,
                            'emptylist': [],
                            'emptyobj': {},
                            'listwithnull': [
                                jsNull,
                                jsNull
                            ],
                            'y': {
                                'nested': 'map',
                                'within': [
                                    'another array',
                                    'cool',
                                    { 'yet': 'more' },
                                    1,
                                    {
                                        'snowman': [
                                            'five',
                                            5,
                                            'f5'
                                        ]
                                    },
                                    { 'ice': { 'cream': 'cone' } }
                                ]
                            }
                        },
                        'tow'
                    ], void 0, 4));
                    mainRowø1.append($('<div>', { 'class': 'viewer-cell' }).append(taø1)).append($('<div>', { 'class': 'viewer-cell' }).append(frmø1));
                    return this.empty().append(mainViewø1);
                }.call(this);
                var respitJson = function respitJson() {
                    return function () {
                        var finalø1 = formToJson(frmø1);
                        return taø1.val(JSON.stringify(finalø1, void 0, 4));
                    }.call(this);
                };
                taø1.change(function (_) {
                    return function () {
                        var textø1 = taø1.val();
                        var jsonø1 = JSON.parse(textø1);
                        genEditor(frmø1.empty(), jsonø1);
                        return frmø1.find('input').change(respitJson);
                    }.call(this);
                });
                taø1.change();
                return respitJson();
            }.call(this);
        };
    }(jQuery);
}.call(this));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFub255bW91cy53aXNwIl0sIm5hbWVzIjpbImpzTnVsbCIsImV4cG9ydHMiLCJldmFsIiwia2V5Q2xhc3PDuDEiLCJ2YWxDbGFzc8O4MSIsImxzQ2xhc3PDuDEiLCJrdkNsYXNzw7gxIiwibnVsbENsYXNzw7gxIiwiZ2VuRWRpdG9yIiwicGFyZW50Iiwib2JqIiwiaXNJc0FycmF5w7gxIiwiQXJyYXkiLCJpc0FycmF5IiwiaXNJc051bGzDuDEiLCJjb250YWluZXLDuDEiLCIkIiwiYXBwZW5kIiwiZWFjaCIsImsiLCJ2Iiwicm93w7gxIiwidmFsIiwidHlwZW9mIiwiZ2V0Q2hpbGREaXN0YW5jZSIsIiRwYXJlbnQiLCJjbHMiLCJoYXNDbGFzcyIsImRpc3RMc8O4MSIsImZpbmQiLCJpIiwiZWwiLCJwdXNoIiwicGFyZW50c1VudGlsIiwiTWF0aCIsIm1pbi5hcHBseSIsImZvcm1Ub0pzb24iLCIkZG9tZWwiLCJydG4iLCJwcm9wIiwicGFyc2VJbnQiLCJydG7DuDIiLCJzb3J0IiwiaXNQdXNoaW5nVG9BcnJhecO4MSIsImVsQXJyw7gxIiwiY2hpbGRyZW4iLCJrZXnDuDEiLCIkZWzDuDEiLCJlbFZhbMO4MSIsImVsVGFnw7gxIiwibmV4dMO4MSIsInNsaWNlIiwiZm4iLCJvcHQiLCJmcm3DuDEiLCJpc0lzQ3VzdG9tVGV4dMO4MSIsInRhw7gxIiwidGhpcyIsIm1haW5Sb3fDuDEiLCJtYWluVmlld8O4MSIsIkpTT04iLCJzdHJpbmdpZnkiLCJlbXB0eSIsInJlc3BpdEpzb24iLCJmaW5hbMO4MSIsImNoYW5nZSIsIl8iLCJ0ZXh0w7gxIiwianNvbsO4MSIsInBhcnNlIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFBQSxJQUFLQSxNQUFBLEdBQUFDLE9BQUEsQ0FBQUQsTUFBQSxHQUFTRSxJQUFELENBQU0sTUFBTixDQUFiO0FBQ0EsQyxZQUNNO0FBQUEsUUFBQUMsVSxHQUFVLEtBQVY7QUFBQSxJQUNBLElBQUFDLFUsR0FBVSxPQUFWLENBREE7QUFBQSxJQUdBLElBQUFDLFMsR0FBUyxJQUFULENBSEE7QUFBQSxJQUlBLElBQUFDLFMsR0FBUyxJQUFULENBSkE7QUFBQSxJQU1BLElBQUFDLFcsR0FBVyxNQUFYLENBTkE7QUFBQSxJLE9BQUE7QUFBQSxJQWlCSixJQUFNQyxTQUFBLEdBQU4sU0FBTUEsU0FBTixDQUFrQkMsTUFBbEIsRUFBeUJDLEdBQXpCLEVBQ0U7QUFBQSxlLFlBQU07QUFBQSxnQkFBQUMsVyxHQUFXQyxLQUFBLENBQU1DLE9BQVAsQ0FBZUgsR0FBZixDQUFWO0FBQUEsWUFDQSxJQUFBSSxVLEdBQXFCSixHQUFaLEtBQWdCVixNQUF6QixDQURBO0FBQUEsWUFFQSxJQUFBZSxXLEdBQWNKLFdBQUosR0FDR0ssQ0FBRCxDQUFHLE1BQUgsRUFBVTtBQUFBLGdCLFNBQVEsQ0FBUjtBQUFBLGdCLFNBQ1FYLFNBRFI7QUFBQSxhQUFWLENBREYsR0FHTVMsVUFBSixHQUNHRSxDQUFELENBQUcsT0FBSCxFQUFXLEUsU0FBUVQsV0FBUixFQUFYLENBREYsR0FFR1MsQ0FBRCxDQUFHLE9BQUgsRUFBVyxFLFNBQVFWLFNBQVIsRUFBWCxDQUxkLENBRkE7QUFBQSxZQVFLRyxNQUFSLENBQUNRLE1BQUYsQ0FBZ0JGLFdBQWhCLEVBUkk7QUFBQSxZQVNKLE9BQUlMLEdBQUosR0FDR00sQ0FBQSxDQUFFRSxJQUFILENBQ0NSLEdBREQsRUFFQyxVQUFLUyxDQUFMLEVBQU9DLENBQVAsRUFDRTtBQUFBLHVCLFlBQU07QUFBQSx3QkFBQUMsSyxHQUFRVixXQUFKLEdBQ09LLENBQUQsQ0FBRyxNQUFILENBRE4sR0FFT0EsQ0FBRCxDQUFHLE9BQUgsRUFBVyxFLFNBQVEsTUFBUixFQUFYLENBQ0MsQ0FBQ0MsTUFETixDQUNrQkQsQ0FBRCxDQUFHLFNBQUgsRUFDRztBQUFBLHdCLFFBQU8sTUFBUDtBQUFBLHdCLFNBQ1FiLFVBRFI7QUFBQSxxQkFESCxDQUdDLENBQUNtQixHQUhOLENBR1VILENBSFYsQ0FEYixDQUZOO0FBQUEsb0JBT0FKLFdBQ0MsQ0FBQ0UsTUFETixDQUNhSSxLQURiLEVBUEk7QUFBQSxvQkFTSixPQUFpQkUsTUFBRCxDQUFRSCxDQUFSLENBQVosS0FBdUIsUUFBM0IsR0FDR1osU0FBRCxDQUFZYSxLQUFaLEVBQWdCRCxDQUFoQixDQURGLEdBRVdDLEtBQVIsQ0FBQ0osTUFBRixDQUFrQkQsQ0FBRCxDQUFHLFNBQUgsRUFDRztBQUFBLHdCLFFBQU8sTUFBUDtBQUFBLHdCLFNBQ1daLFUsR0FBVSxHQUFiLEdBQWtCbUIsTUFBRCxDQUFRSCxDQUFSLENBRHpCO0FBQUEscUJBREgsQ0FHQyxDQUFDRSxHQUhOLENBR1VGLENBSFYsQ0FBYixDQUZGLENBVEk7QUFBQSxpQixLQUFOLEMsSUFBQTtBQUFBLGFBSEgsQ0FERixHLE1BQUEsQ0FUSTtBQUFBLFMsS0FBTixDLElBQUE7QUFBQSxLQURGLENBakJJO0FBQUEsSUFrREosSUFBTUksZ0JBQUEsR0FBTixTQUFNQSxnQkFBTixDQUEwQkMsT0FBMUIsRUFBa0NDLEdBQWxDLEVBQ0U7QUFBQSxlQUFlRCxPQUFWLENBQUNFLFFBQUYsQ0FBbUJELEdBQW5CLENBQUosR0FDRSxDQURGLEcsWUFFUTtBQUFBLGdCQUFBRSxRLEdBQVEsRUFBUjtBQUFBLFlBRUlILE9BQU4sQ0FBQ0ksSUFBRixDQUFrQixHQUFILEdBQU9ILEdBQXRCLENBREEsQ0FBQ1IsSUFBRixDQUVDLFVBQUtZLENBQUwsRUFBT0MsRUFBUCxFQUNFO0FBQUEsdUJBQU9ILFFBQU4sQ0FBQ0ksSUFBRixDQUFxQ2hCLENBQUQsQ0FBR2UsRUFBSCxDQUFkLENBQUNFLFlBQUYsQ0FBc0JSLE9BQXRCLENBQU4sQ0FBcUMsUUFBckMsQ0FBZjtBQUFBLGFBSEgsRUFESTtBQUFBLFlBS0osT0FBQ1MsSUFBQSxDQUFLQyxTQUFOLEMsTUFBQSxFQUFvQlAsUUFBcEIsRUFMSTtBQUFBLFMsS0FBTixDLElBQUEsQ0FGRjtBQUFBLEtBREYsQ0FsREk7QUFBQSxJQTRESixJQUFNUSxVQUFBLEdBQU4sU0FBTUEsVUFBTixDQUFvQkMsTUFBcEIsRUFBMkJDLEdBQTNCLEVBS0U7QUFBQSxlQUF1QkQsTUFBTixDQUFDRSxJQUFGLEMsU0FBQSxDQUFaLEtBQW9DLE9BQXhDLEdBRWlCRixNQUFWLENBQUNWLFFBQUYsQ0FBa0IsUUFBbEIsQ0FBSixHQUNHYSxRQUFELENBQWdCSCxNQUFMLENBQUNmLEdBQUYsRUFBVixDQURGLEdBRVFlLE1BQUwsQ0FBQ2YsR0FBRixFQUpKLEdBTWlCZSxNQUFWLENBQUNWLFFBQUYsQ0FBa0JwQixXQUFsQixDQUFKLEdBRUVQLE1BRkYsRyxZQUtRO0FBQUEsZ0JBQUF5QyxLLEdBQVFILEdBQUosSUFFUTtBQUFBLGdCQUFDO0FBQUEsb0JBQUVkLGdCQUFELENBQW9CYSxNQUFwQixFQUEyQmhDLFNBQTNCLENBQUQ7QUFBQSxvQkFBc0MsRUFBdEM7QUFBQSxpQkFBRDtBQUFBLGdCQUNDO0FBQUEsb0JBQUVtQixnQkFBRCxDQUFvQmEsTUFBcEIsRUFBMkIvQixTQUEzQixDQUFEO0FBQUEsb0JBQXNDLEVBQXRDO0FBQUEsaUJBREQ7QUFBQSxhQUVDLENBQUNvQyxJLEdBQ0ksQyxDQUhWLENBSVUsQ0FKVixDQUZSO0FBQUEsWUFPQSxJQUFBQyxrQixHQUFtQi9CLEtBQUEsQ0FBTUMsT0FBUCxDQUFlNEIsS0FBZixDQUFsQixDQVBBO0FBQUEsWUFVSixDOztnQkFBTyxJQUFBRyxPLEdBQWtCUCxNQUFWLENBQUNRLFFBQUYsRUFBUCxDO29CQUNBQyxLOzs0QkFDRSxDQUFILEdBQVdGLE9BQU4sQ0FBYSxRQUFiLENBQVQsRyxZQUNRO0FBQUEsNEJBQUFHLEssR0FBSy9CLENBQUQsQ0FBUzRCLE9BQU4sQ0FBYSxDQUFiLENBQUgsQ0FBSjtBQUFBLHdCQUNBLElBQUFJLE8sR0FBYUQsS0FBTCxDQUFDekIsR0FBRixFQUFQLENBREE7QUFBQSx3QkFFQSxJQUFBMkIsTyxHQUFjRixLQUFOLENBQUNSLElBQUYsQyxTQUFBLENBQVAsQ0FGQTtBQUFBLHdCQUlKLE9BQWdCVSxPQUFaLEtBQW1CLE9BQXZCLEdBR01OLGtCQUFKLEdBRVNGLEtBQU4sQ0FBQ1QsSUFBRixDQUFZSSxVQUFELENBQWNXLEtBQWQsQ0FBWCxDQUZGLEcsWUFPUTtBQUFBLGdDQUFBRyxNLEdBQVdOLE9BQU4sQ0FBYSxDQUFiLENBQUw7QUFBQSw0QkFDSixPQUFZSCxLQUFOLENBQVVPLE9BQVYsQ0FBTixHQUNPWixVQUFELENBQWVwQixDQUFELENBQUdrQyxNQUFILENBQWQsRSxNQUFBLENBRE4sQ0FESTtBQUFBLHlCLEtBQU4sQyxJQUFBLENBVkosRyxZQW9CSTtBQUFBLDRCQUFTUCxrQkFBTCxJQUNnQkksS0FBVixDQUFDcEIsUUFBRixDQUFlcEIsV0FBZixDQURULEdBRVNrQyxLQUFOLENBQUNULElBQUYsQ0FBWUksVUFBRCxDQUFjVyxLQUFkLEVBQWtCL0MsTUFBbEIsQ0FBWCxDQUZGLEdBR1cyQyxrQkFBTCxJQUNnQkksS0FBVixDQUFDcEIsUUFBRixDQUFlckIsU0FBZixDQURULEdBSVNtQyxLQUFOLENBQUNULElBQUYsQ0FBWUksVUFBRCxDQUFjVyxLQUFkLEUsTUFBQSxDQUFYLENBSkYsR0FPR1gsVUFBRCxDQUFjVyxLQUFkLEVBQWtCTixLQUFsQixDQVZKO0FBQUEsNEJBV0EsTyxVQUFlRyxPQUFQLENBQUNPLEtBQUYsQ0FBZSxDQUFmLENBQVAsRSxVQUF5QkwsS0FBekIsRSxJQUFBLENBWEE7QUFBQSx5QixLQUpGLEMsSUFBQSxDQWhCRixDQUpJO0FBQUEscUIsS0FBTixDLElBQUEsQ0FERixHO3lCQUZLRixPLFlBQ0FFLEs7O2tCQURQLEMsSUFBQSxHQVZJO0FBQUEsWUFpREosT0FBQUwsS0FBQSxDQWpESTtBQUFBLFMsS0FBTixDLElBQUEsQ0FYSjtBQUFBLEtBTEYsQ0E1REk7QUFBQSxJQStISixPQUFDLFVBQUt6QixDQUFMLEVBRUU7QUFBQSxlQUFZQSxDQUFBLENBQUVvQyxFQUFSLENBQVcsYUFBWCxDQUFOLEdBQ00sVUFBS0MsR0FBTCxFQUNFO0FBQUEsbUIsWUFDTTtBQUFBLG9CQUFBQyxLLEdBQUt0QyxDQUFELENBQUcsUUFBSCxDQUFKO0FBQUEsZ0JBRUEsSUFBQXVDLGdCLEdBQXFCRixHQUFMLElBQWVBLEdBQU4sQ0FBVSxNQUFWLENBQXpCLENBRkE7QUFBQSxnQkFJQSxJQUFBRyxJLEdBQU9ELGdCQUFKLEdBQ0d2QyxDQUFELENBQVNxQyxHQUFOLENBQVUsTUFBVixDQUFILENBREYsR0FFR3JDLENBQUQsQ0FBRyxZQUFILENBRkwsQ0FKQTtBQUFBLGdCQVNBdUMsZ0JBQUosRyxZQUVJO0FBQUEsMkJBQVV2QyxDQUFELENBQUd5QyxJQUFILENBQVIsQ0FBQ3hDLE1BQUYsQ0FDU3FDLEtBRFQ7QUFBQSxpQixLQURGLEMsSUFBQSxDQURGLEcsWUFJUTtBQUFBLHdCQUFBSSxTLEdBQWMxQyxDQUFELENBQUcsT0FBSCxFQUFXLEUsU0FBUSxZQUFSLEVBQVgsQ0FBYjtBQUFBLG9CQUNBLElBQUEyQyxVLEdBQWUzQyxDQUFELENBQUcsT0FBSCxFQUFXLEUsU0FBUSxhQUFSLEVBQVgsQ0FDQyxDQUFDQyxNQUROLENBQ2F5QyxTQURiLENBQVYsQ0FEQTtBQUFBLG9CQUtFRixJQUFMLENBQUNsQyxHQUFGLENBQ09zQyxJQUFBLENBQUtDLFNBQU4sQ0FDQztBQUFBLHdCQUFDLEtBQUQ7QUFBQSx3QkFDQztBQUFBLDRCLEtBSUcsYUFKSDtBQUFBLDRCLEtBQ0ksQ0FESjtBQUFBLDRCLEtBRUk7QUFBQSxnQyxPQUFNLEtBQU47QUFBQSxnQyxPQUNNLE1BRE47QUFBQSw2QkFGSjtBQUFBLDRCLEtBS0s7QUFBQSxnQ0FBQyxDQUFEO0FBQUEsZ0NBQUcsQ0FBSDtBQUFBLGdDQUFLLENBQUw7QUFBQSxnQ0FBTyxDQUFQO0FBQUEsNkJBTEw7QUFBQSw0QixRQU1RN0QsTUFOUjtBQUFBLDRCLGFBT1ksRUFQWjtBQUFBLDRCLFlBUVcsRUFSWDtBQUFBLDRCLGdCQVNlO0FBQUEsZ0NBQUNBLE1BQUQ7QUFBQSxnQ0FBU0EsTUFBVDtBQUFBLDZCQVRmO0FBQUEsNEIsS0FVSztBQUFBLGdDLFVBQ1MsS0FEVDtBQUFBLGdDLFVBR1U7QUFBQSxvQ0FBQyxlQUFEO0FBQUEsb0NBQ0MsTUFERDtBQUFBLG9DQUVDLEUsT0FBTSxNQUFOLEVBRkQ7QUFBQSxvQ0FHQyxDQUhEO0FBQUEsb0NBSUM7QUFBQSx3QyxXQUFVO0FBQUEsNENBQUMsTUFBRDtBQUFBLDRDQUFRLENBQVI7QUFBQSw0Q0FBVSxJQUFWO0FBQUEseUNBQVY7QUFBQSxxQ0FKRDtBQUFBLG9DQUtDLEUsT0FBTSxFLFNBQVEsTUFBUixFQUFOLEVBTEQ7QUFBQSxpQ0FIVjtBQUFBLDZCQVZMO0FBQUEseUJBREQ7QUFBQSx3QkFzQkMsS0F0QkQ7QUFBQSxxQkFERCxFLE1BQUEsRUF3QkssQ0F4QkwsQ0FETixFQUxJO0FBQUEsb0JBZ0NBMEQsU0FDQyxDQUFDekMsTSxDQUFZRCxDQUFELENBQUcsT0FBSCxFQUFXLEUsU0FBUSxhQUFSLEVBQVgsQ0FDQyxDQUFDQyxNQUROLENBQ2F1QyxJQURiLEMsQ0FFUixDQUFDdkMsTUFITixDQUdrQkQsQ0FBRCxDQUFHLE9BQUgsRUFBVyxFLFNBQVEsYUFBUixFQUFYLENBQ0MsQ0FBQ0MsTUFETixDQUNhcUMsS0FEYixDQUhiLEVBaENJO0FBQUEsb0JBcUNKLE9BQUlHLElBQ0MsQ0FBQ0ssSyxFQUNELENBQUM3QyxNQUZOLENBRWEwQyxVQUZiLEVBckNJO0FBQUEsaUIsS0FBTixDLElBQUEsQ0FKRixDQVRJO0FBQUEsZ0JBc0RKLElBQU1JLFVBQUEsR0FBTixTQUFNQSxVQUFOLEdBQ0U7QUFBQSwyQixZQUFNO0FBQUEsNEJBQUFDLE8sR0FBTzVCLFVBQUQsQ0FBY2tCLEtBQWQsQ0FBTjtBQUFBLHdCQUNKLE9BQU1FLElBQUwsQ0FBQ2xDLEdBQUYsQ0FBVXNDLElBQUEsQ0FBS0MsU0FBTixDQUFnQkcsT0FBaEIsRSxNQUFBLEVBQTBCLENBQTFCLENBQVQsRUFESTtBQUFBLHFCLEtBQU4sQyxJQUFBO0FBQUEsaUJBREYsQ0F0REk7QUFBQSxnQkEwREtSLElBQVIsQ0FBQ1MsTUFBRixDQUNTLFVBQUtDLENBQUwsRUFDRTtBQUFBLDJCLFlBQU07QUFBQSw0QkFBQUMsTSxHQUFXWCxJQUFMLENBQUNsQyxHQUFGLEVBQUw7QUFBQSx3QkFDQSxJQUFBOEMsTSxHQUFNUixJQUFBLENBQUtTLEtBQU4sQ0FBWUYsTUFBWixDQUFMLENBREE7QUFBQSx3QkFFSDNELFNBQUQsQ0FBb0I4QyxLQUFQLENBQUNRLEtBQUYsRUFBWixFQUF5Qk0sTUFBekIsRUFGSTtBQUFBLHdCQUdKLE9BQUlkLEtBQ0MsQ0FBQ3pCLEksQ0FBSyxPLENBQ04sQ0FBQ29DLE1BRk4sQ0FFYUYsVUFGYixFQUhJO0FBQUEscUIsS0FBTixDLElBQUE7QUFBQSxpQkFGWCxFQTFESTtBQUFBLGdCQWtFS1AsSUFBUixDQUFDUyxNQUFGLEdBbEVJO0FBQUEsZ0JBb0VKLE9BQUNGLFVBQUQsR0FwRUk7QUFBQSxhLEtBRE4sQyxJQUFBO0FBQUEsU0FGUjtBQUFBLEtBRkgsQ0E4RUNPLE1BOUVELEVBL0hJO0FBQUEsQyxLQUROLEMsSUFBQSIsInNvdXJjZXNDb250ZW50IjpbIihkZWYganMtbnVsbCAoZXZhbCBcIm51bGxcIikpXG4obGV0IFtcbiAgICAgIGtleS1jbGFzcyBcImtleVwiXG4gICAgICB2YWwtY2xhc3MgXCJ2YWx1ZVwiXG4gICAgICBcbiAgICAgIGxzLWNsYXNzIFwibHNcIlxuICAgICAga3YtY2xhc3MgXCJrdlwiXG5cbiAgICAgIG51bGwtY2xhc3MgXCJudWxsXCJcbiAgICAgIF1cbiAgKGRlZm1hY3JvIC0+XG4gICAgWyYgb3BlcmF0aW9uc11cbiAgICAocmVkdWNlXG4gICAgIChmbiBbZm9ybSBvcGVyYXRpb25dXG4gICAgICAgKGNvbnMgKGZpcnN0IG9wZXJhdGlvbilcbiAgICAgICAgICAgICAoY29ucyBmb3JtIChyZXN0IG9wZXJhdGlvbikpKSlcbiAgICAgKGZpcnN0IG9wZXJhdGlvbnMpXG4gICAgIChyZXN0IG9wZXJhdGlvbnMpKSlcbiAgXG4gIChkZWZuIGdlbi1lZGl0b3IgW3BhcmVudCBvYmpdXG4gICAgKGxldCBbaXMtYXJyYXk/IChBcnJheS5pc0FycmF5IG9iailcbiAgICAgICAgICBpcy1udWxsPyAoaWRlbnRpY2FsPyBvYmoganMtbnVsbClcbiAgICAgICAgICBjb250YWluZXIgKGlmIGlzLWFycmF5P1xuICAgICAgICAgICAgICAgICAgICAgICgkIFwiPG9sPlwiIHs6c3RhcnQgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmNsYXNzIGxzLWNsYXNzfSlcbiAgICAgICAgICAgICAgICAgICAgICAoaWYgaXMtbnVsbD9cbiAgICAgICAgICAgICAgICAgICAgICAgICgkIFwiPGRpdj5cIiB7OmNsYXNzIG51bGwtY2xhc3N9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKCQgXCI8ZGl2PlwiIHs6Y2xhc3Mga3YtY2xhc3N9KSkpXVxuICAgICAgKC5hcHBlbmQgcGFyZW50IGNvbnRhaW5lcilcbiAgICAgIChpZiBvYmpcbiAgICAgICAgKCQuZWFjaFxuICAgICAgICAgb2JqXG4gICAgICAgICAoZm4gW2sgdl1cbiAgICAgICAgICAgKGxldCBbcm93IChpZiBpcy1hcnJheT9cbiAgICAgICAgICAgICAgICAgICAgICAgKC0+ICgkIFwiPGxpPlwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgKC0+ICgkIFwiPGRpdj5cIiB7OmNsYXNzIFwiaXRlbVwifSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICguYXBwZW5kICgtPiAoJCBcIjxpbnB1dD5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6dHlwZSBcInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6Y2xhc3Mga2V5LWNsYXNzfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoLnZhbCBrKSkpKSldXG4gICAgICAgICAgICAgKC0+IGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAoLmFwcGVuZCByb3cpKVxuICAgICAgICAgICAgIChpZiAoaWRlbnRpY2FsPyAodHlwZW9mIHYpIFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAoZ2VuLWVkaXRvciByb3cgdilcbiAgICAgICAgICAgICAgICguYXBwZW5kIHJvdyAoLT4gKCQgXCI8aW5wdXQ+XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezp0eXBlIFwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6Y2xhc3MgKCsgdmFsLWNsYXNzIFwiIFwiICh0eXBlb2YgdikpfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKC52YWwgdikpKSkpKSkpKSlcblxuICA7OyBkb24ndCBrbm93IHdoZXRoZXIgdGhlIGZ1bGwgdHJhdmVyc2FsIGlzIG5lY2Vzc2FyeVxuICA7OyBidXQgJC5jbG9zZXN0KCkgdHJhdmVyc2VzIHVwLCBhbmQgdGhlcmUgZG9lc24ndCBzZWVtXG4gIDs7IHRvIGJlIG9uZSB0aGF0IGRvZXMgdGhlIHNhbWUgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvblxuICAoZGVmbiBnZXQtY2hpbGQtZGlzdGFuY2UgWyRwYXJlbnQgY2xzXVxuICAgIChpZiAoLmhhc0NsYXNzICRwYXJlbnQgY2xzKVxuICAgICAgMFxuICAgICAgKGxldCBbZGlzdC1scyBbXV1cbiAgICAgICAgKC5lYWNoXG4gICAgICAgICAoLmZpbmQgJHBhcmVudCAoKyBcIi5cIiBjbHMpKVxuICAgICAgICAgKGZuIFtpIGVsXVxuICAgICAgICAgICAoLnB1c2ggZGlzdC1scyAoYWdldCAoLnBhcmVudHNVbnRpbCAoJCBlbCkgJHBhcmVudCkgXCJsZW5ndGhcIikpKSlcbiAgICAgICAgKE1hdGgubWluLmFwcGx5IG5pbCBkaXN0LWxzKSkpKVxuXG4gIChkZWZuIGZvcm0tdG8tanNvbiBbJGRvbWVsIHJ0bl1cbiAgICA7OyBiZXR0ZXIgb2ZmIGEgY29uZCBidXQgZm9yIG5vdyxcbiAgICA7OyAxLiBpZiBJTlBVVCwgcmV0dXJuIHRoZSB0eXBlZCB2YWx1ZSBpdCBjb250YWluc1xuICAgIDs7IDIuIGlmIG51bGwsIHJldHVybiBudWxsIC0tIG5pY2hlIGNhc2VcbiAgICA7OyAzLiBwcm9jZXNzIHBvdGVudGlhbCBjaGlsZHJlblxuICAgIChpZiAoaWRlbnRpY2FsPyAoLnByb3AgJGRvbWVsIDp0YWdOYW1lKSBcIklOUFVUXCIpXG4gICAgICA7OyBnZXQgdmFsdWVcbiAgICAgIChpZiAoLmhhc0NsYXNzICRkb21lbCBcIm51bWJlclwiKVxuICAgICAgICAocGFyc2VJbnQgKC52YWwgJGRvbWVsKSlcbiAgICAgICAgKC52YWwgJGRvbWVsKSlcbiAgICAgIFxuICAgICAgKGlmICguaGFzQ2xhc3MgJGRvbWVsIG51bGwtY2xhc3MpXG4gICAgICAgIDs7IG5pY2hlIGNhc2Ugb2YgbnVsbFxuICAgICAgICBqcy1udWxsXG5cbiAgICAgICAgOzsgcG90ZW50aWFsIGNoaWxkcmVuXG4gICAgICAgIChsZXQgW3J0biAob3IgcnRuXG4gICAgICAgICAgICAgICAgICAgICAgOzsgbW9zdCBsaWtlbHkgb25lIGlzIHRoZSBvbmUgd2l0aCBtaW5pbXVtIGRpc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgKC0+IFtbKGdldC1jaGlsZC1kaXN0YW5jZSAkZG9tZWwgbHMtY2xhc3MpIFtdXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgWyhnZXQtY2hpbGQtZGlzdGFuY2UgJGRvbWVsIGt2LWNsYXNzKSB7fV1dXG4gICAgICAgICAgICAgICAgICAgICAgICAgICguc29ydClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGFnZXQgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGFnZXQgMSkpKVxuICAgICAgICAgICAgICBwdXNoaW5nLXRvLWFycmF5PyAoQXJyYXkuaXNBcnJheSBydG4pXVxuICAgICAgICAgIDs7IHJlYXNvbiB3ZSB1c2UgbG9vcCBoZXJlLCBpcyBiZWNhdXNlIHdoZW4gd2UgaGl0IGFuIGlucHV0IHRoYXQgaXMgYSBrZXksXG4gICAgICAgICAgOzsgd2Ugd2FudCB0byBcInN0b3JlXCIgdGhlIGtleSBhbmQgbW92ZSBvbiwgYnV0IGRvIGl0IGZ1bmN0aW9uYWxseVxuICAgICAgICAgIChsb29wIFtlbC1hcnIgKC5jaGlsZHJlbiAkZG9tZWwpXG4gICAgICAgICAgICAgICAgIGtleSBuaWxdXG4gICAgICAgICAgICAoaWYgKDwgMCAoYWdldCBlbC1hcnIgXCJsZW5ndGhcIikpXG4gICAgICAgICAgICAgIChsZXQgWyRlbCAoJCAoYWdldCBlbC1hcnIgMCkpXG4gICAgICAgICAgICAgICAgICAgIGVsLXZhbCAoLnZhbCAkZWwpXG4gICAgICAgICAgICAgICAgICAgIGVsLXRhZyAoLnByb3AgJGVsIDp0YWdOYW1lKV1cblxuICAgICAgICAgICAgICAgIChpZiAoaWRlbnRpY2FsPyBlbC10YWcgXCJJTlBVVFwiKVxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICA7OyBUUlVFXG4gICAgICAgICAgICAgICAgICAoaWYgcHVzaGluZy10by1hcnJheT9cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICgucHVzaCBydG4gKGZvcm0tdG8tanNvbiAkZWwpKVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgOzsgdGhlIGZpcnN0IGlucHV0IHRvIGJlIGhpdCBkdXJpbmcgdGhlIGxvb3AsXG4gICAgICAgICAgICAgICAgICAgIDs7IGZvciBhIG5vbi1hcnJheSwgbXVzdCBiZSBhIGtleS4gd2UgdGhlblxuICAgICAgICAgICAgICAgICAgICA7OyBleHBlY3QgdGhlIHJlbWFpbmRlciB0byBiZSBleGFjdGx5IGxlbmd0aCAxXG4gICAgICAgICAgICAgICAgICAgIChsZXQgW25leHQgKGFnZXQgZWwtYXJyIDEpXVxuICAgICAgICAgICAgICAgICAgICAgIChzZXQhIChhZ2V0IHJ0biBlbC12YWwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZvcm0tdG8tanNvbiAoJCBuZXh0KSBuaWwpKSkpXG5cbiAgICAgICAgICAgICAgICAgIDs7IEVMU0VcbiAgICAgICAgICAgICAgICAgIDs7IG5vdCBpbnB1dCwgdHJhdmVyc2UgZGVlcGVyXG4gICAgICAgICAgICAgICAgICAobGV0IFtdXG4gICAgICAgICAgICAgICAgICAgIDs7IGFub3RoZXIgdWdseSAzLXdheSBjb25kIHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgICAgICAgICA7OyB3ZSdyZSBoYW5kbGluZyAyIGNhc2VzIHdpdGhpbiBwdXNoIHRvIGFycmF5LFxuICAgICAgICAgICAgICAgICAgICA7OyB0aGF0IG9mIG51bGwsIHZzIHRoYXQgb2Yga3YuIFRPRE86IGJlYXV0aWZ5XG4gICAgICAgICAgICAgICAgICAgIChpZiAoYW5kIHB1c2hpbmctdG8tYXJyYXk/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICguaGFzQ2xhc3MgJGVsIG51bGwtY2xhc3MpKVxuICAgICAgICAgICAgICAgICAgICAgICgucHVzaCBydG4gKGZvcm0tdG8tanNvbiAkZWwganMtbnVsbCkpXG4gICAgICAgICAgICAgICAgICAgICAgKGlmIChhbmQgcHVzaGluZy10by1hcnJheT9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoLmhhc0NsYXNzICRlbCBrdi1jbGFzcykpXG4gICAgICAgICAgICAgICAgICAgICAgICA7OyBUUlVFXG4gICAgICAgICAgICAgICAgICAgICAgICA7OyBuZXh0IGlzIGEgbWVtYmVyIG9mIHRoZSBsaXN0LCBhbmQgdGhlIG1lbWJlciBpcyBhbiBvYmplY3RcbiAgICAgICAgICAgICAgICAgICAgICAgICgucHVzaCBydG4gKGZvcm0tdG8tanNvbiAkZWwgbmlsKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDs7IG5leHQgaXMgYW4gb2JqZWN0IGF0IHRoZSBzYW1lIGxldmVsXG4gICAgICAgICAgICAgICAgICAgICAgICA7OyBFTFNFXG4gICAgICAgICAgICAgICAgICAgICAgICAoZm9ybS10by1qc29uICRlbCBydG4pKSlcbiAgICAgICAgICAgICAgICAgICAgKHJlY3VyICguc2xpY2UgZWwtYXJyIDEpIGtleSkpKSkpKVxuICAgICAgICAgIHJ0bikpKSlcbiAgXG4gICgoZm4gWyRdXG4gICAgIFxuICAgICAoc2V0ISAoYWdldCAkLmZuIFwianNvbl9lZGl0b3JcIilcbiAgICAgICAgICAgKGZuIFtvcHRdXG4gICAgICAgICAgICAgKGxldCBbXG4gICAgICAgICAgICAgICAgICAgZnJtICgkIFwiPGZvcm0+XCIpXG4gICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgaXMtY3VzdG9tLXRleHQ/IChhbmQgb3B0IChhZ2V0IG9wdCBcInRleHRcIikpXG5cbiAgICAgICAgICAgICAgICAgICB0YSAoaWYgaXMtY3VzdG9tLXRleHQ/XG4gICAgICAgICAgICAgICAgICAgICAgICAoJCAoYWdldCBvcHQgXCJ0ZXh0XCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKCQgXCI8dGV4dGFyZWE+XCIpKVxuICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgKGlmIGlzLWN1c3RvbS10ZXh0P1xuICAgICAgICAgICAgICAgICAobGV0IFtdXG4gICAgICAgICAgICAgICAgICAgKC5hcHBlbmQgKCQgdGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm0pKVxuICAgICAgICAgICAgICAgICAobGV0IFttYWluLXJvdyAoLT4gKCQgXCI8ZGl2PlwiIHs6Y2xhc3MgXCJ2aWV3ZXItcm93XCJ9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgbWFpbi12aWV3ICgtPiAoJCBcIjxkaXY+XCIgezpjbGFzcyBcInZpZXdlci1tYWluXCJ9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICguYXBwZW5kIG1haW4tcm93KSlcbiAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgIDs7IGRlbW8gZGF0YVxuICAgICAgICAgICAgICAgICAgICgudmFsIHRhXG4gICAgICAgICAgICAgICAgICAgICAgICAgKEpTT04uc3RyaW5naWZ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFtcIm9uZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOmEgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpiIHs6Zm9vIFwiYmFyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOmJheiBcInF1dXhcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAxIFwic29tZSBudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieFwiIFsxIDIgMyA0XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiTm9uZVwiIGpzLW51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ZW1wdHlsaXN0IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOmVtcHR5b2JqIHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOmxpc3R3aXRobnVsbCBbanMtbnVsbCBqcy1udWxsXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwieVwiIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDpuZXN0ZWQgXCJtYXBcIlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIndpdGhpblwiIFtcImFub3RoZXIgYXJyYXlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29vbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgezp5ZXQgXCJtb3JlXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6c25vd21hbiBbXCJmaXZlXCIgNSBcImY1XCJdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHs6aWNlIHs6Y3JlYW0gXCJjb25lXCJ9fV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBcInRvd1wiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICBuaWwgNCkpXG5cbiAgICAgICAgICAgICAgICAgICAoLT4gbWFpbi1yb3dcbiAgICAgICAgICAgICAgICAgICAgICAgKC5hcHBlbmQgKC0+ICgkIFwiPGRpdj5cIiB7OmNsYXNzIFwidmlld2VyLWNlbGxcIn0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoLmFwcGVuZCB0YSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAoLmFwcGVuZCAoLT4gKCQgXCI8ZGl2PlwiIHs6Y2xhc3MgXCJ2aWV3ZXItY2VsbFwifSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICguYXBwZW5kIGZybSkpKSlcbiAgICAgICAgICAgICAgICAgICAoLT4gdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAoLmVtcHR5KVxuICAgICAgICAgICAgICAgICAgICAgICAoLmFwcGVuZCBtYWluLXZpZXcpKSkpXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgIChkZWZuIHJlc3BpdC1qc29uIFtdXG4gICAgICAgICAgICAgICAgIChsZXQgW2ZpbmFsIChmb3JtLXRvLWpzb24gZnJtKV1cbiAgICAgICAgICAgICAgICAgICAoLnZhbCB0YSAoSlNPTi5zdHJpbmdpZnkgZmluYWwgbmlsIDQpKSkpXG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICguY2hhbmdlIHRhXG4gICAgICAgICAgICAgICAgICAgICAgICAoZm4gW19dXG4gICAgICAgICAgICAgICAgICAgICAgICAgIChsZXQgW3RleHQgKC52YWwgdGEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24gKEpTT04ucGFyc2UgdGV4dCldXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGdlbi1lZGl0b3IgKC5lbXB0eSBmcm0pIGpzb24pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKC0+IGZybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoLmZpbmQgXCJpbnB1dFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoLmNoYW5nZSByZXNwaXQtanNvbikpKSkpXG4gICAgICAgICAgICAgICAoLmNoYW5nZSB0YSlcblxuICAgICAgICAgICAgICAgKHJlc3BpdC1qc29uKVxuICAgICAgICAgICAgICAgKVxuXG4gICAgICAgICAgICAgKSlcbiAgICAgKVxuICAgalF1ZXJ5KVxuICApXG4iXX0=
